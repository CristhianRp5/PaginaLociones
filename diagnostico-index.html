<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üîç Diagn√≥stico - Index.html</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            background-color: #f5f5f5;
        }
        
        .diagnostic-section {
            background: white;
            padding: 20px;
            margin: 20px 0;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        
        .diagnostic-section h2 {
            color: #333;
            border-bottom: 2px solid #007bff;
            padding-bottom: 10px;
        }
        
        .status {
            padding: 10px;
            border-radius: 4px;
            margin: 10px 0;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .status.success {
            background-color: #d4edda;
            color: #155724;
            border: 1px solid #c3e6cb;
        }
        
        .status.error {
            background-color: #f8d7da;
            color: #721c24;
            border: 1px solid #f5c6cb;
        }
        
        .status.warning {
            background-color: #fff3cd;
            color: #856404;
            border: 1px solid #ffeaa7;
        }
        
        .status-icon {
            font-size: 18px;
            min-width: 20px;
        }
        
        .logs {
            background: #f8f9fa;
            border: 1px solid #e9ecef;
            border-radius: 4px;
            padding: 15px;
            font-family: 'Courier New', monospace;
            font-size: 12px;
            max-height: 400px;
            overflow-y: auto;
            white-space: pre-wrap;
        }
        
        .btn {
            background: #007bff;
            color: white;
            padding: 10px 20px;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            margin: 5px;
        }
        
        .btn:hover {
            background: #0056b3;
        }
        
        .file-path {
            font-family: 'Courier New', monospace;
            background: #f8f9fa;
            padding: 2px 6px;
            border-radius: 3px;
            font-size: 12px;
        }
        
        .solution {
            background: #e7f3ff;
            border: 1px solid #b3d9ff;
            border-radius: 4px;
            padding: 15px;
            margin: 15px 0;
        }
        
        .solution h4 {
            color: #0066cc;
            margin-top: 0;
        }
    </style>
</head>
<body>
    <h1>üîç Diagn√≥stico de Index.html</h1>
    
    <div class="diagnostic-section">
        <h2>üìã Problemas Identificados</h2>
        <div id="problems-list"></div>
    </div>
    
    <div class="diagnostic-section">
        <h2>üìÅ Verificaci√≥n de Archivos</h2>
        <div id="files-status"></div>
    </div>
    
    <div class="diagnostic-section">
        <h2>üîó Verificaci√≥n de Enlaces CSS</h2>
        <div id="css-status"></div>
    </div>
    
    <div class="diagnostic-section">
        <h2>üì∫ Verificaci√≥n de Videos</h2>
        <div id="videos-status"></div>
    </div>
    
    <div class="diagnostic-section">
        <h2>üîß Soluciones Recomendadas</h2>
        <div id="solutions"></div>
    </div>
    
    <div class="diagnostic-section">
        <h2>üìù Log de Pruebas</h2>
        <button onclick="runAllTests()" class="btn">üß™ Ejecutar Todas las Pruebas</button>
        <button onclick="clearLogs()" class="btn">üßπ Limpiar Logs</button>
        <div id="test-logs" class="logs"></div>
    </div>

    <script>
        let testLogs = [];
        
        document.addEventListener('DOMContentLoaded', function() {
            initializeDiagnostic();
        });
        
        function initializeDiagnostic() {
            log('üöÄ Iniciando diagn√≥stico de index.html...');
            
            identifyProblems();
            checkFileExistence();
            checkCSSLinks();
            checkVideos();
            provideSolutions();
            
            log('‚úÖ Diagn√≥stico completado');
        }
        
        function identifyProblems() {
            const problems = [
                {
                    type: 'error',
                    icon: '‚ùå',
                    title: 'Archivo js/app.js no existe',
                    description: 'El index.html est√° intentando cargar js/app.js que no existe en el proyecto.'
                },
                {
                    type: 'warning',
                    icon: '‚ö†Ô∏è',
                    title: 'Rutas CSS con barra inicial',
                    description: 'Las rutas CSS usan "/css/..." que pueden causar problemas en algunos servidores.'
                },
                {
                    type: 'warning',
                    icon: '‚ö†Ô∏è',
                    title: 'Carga compleja de navbar',
                    description: 'La navbar se carga de forma as√≠ncrona con l√≥gica compleja que puede fallar.'
                },
                {
                    type: 'error',
                    icon: '‚ùå',
                    title: 'Dependencias faltantes',
                    description: 'No hay un script principal que maneje la funcionalidad b√°sica de la p√°gina.'
                }
            ];
            
            const container = document.getElementById('problems-list');
            let html = '';
            
            problems.forEach(problem => {
                const statusClass = problem.type;
                html += `
                    <div class="status ${statusClass}">
                        <span class="status-icon">${problem.icon}</span>
                        <div>
                            <strong>${problem.title}</strong>
                            <p>${problem.description}</p>
                        </div>
                    </div>
                `;
            });
            
            container.innerHTML = html;
        }
        
        function checkFileExistence() {
            const files = [
                { path: '/css/style.css', name: 'Estilos principales' },
                { path: '/css/navbar.css', name: 'Estilos navbar' },
                { path: 'js/app.js', name: 'Script principal' },
                { path: 'js/navbar.js', name: 'Script navbar' },
                { path: 'html/navbar.html', name: 'HTML navbar' }
            ];
            
            const container = document.getElementById('files-status');
            let html = '';
            
            files.forEach(file => {
                // Simular verificaci√≥n (en un entorno real usar√≠amos fetch)
                const exists = !file.path.includes('app.js'); // app.js no existe
                const statusClass = exists ? 'success' : 'error';
                const icon = exists ? '‚úÖ' : '‚ùå';
                const status = exists ? 'Existe' : 'NO ENCONTRADO';
                
                html += `
                    <div class="status ${statusClass}">
                        <span class="status-icon">${icon}</span>
                        <div>
                            <strong>${file.name}</strong>
                            <p><span class="file-path">${file.path}</span> - ${status}</p>
                        </div>
                    </div>
                `;
            });
            
            container.innerHTML = html;
        }
        
        function checkCSSLinks() {
            const cssIssues = [
                {
                    issue: 'Ruta absoluta con barra inicial',
                    current: 'href="/css/style.css"',
                    recommended: 'href="css/style.css"',
                    reason: 'La barra inicial puede causar problemas seg√∫n la configuraci√≥n del servidor'
                },
                {
                    issue: 'Orden de carga correcto',
                    current: 'style.css ‚Üí navbar.css',
                    recommended: 'style.css ‚Üí navbar.css',
                    reason: 'El orden actual es correcto'
                }
            ];
            
            const container = document.getElementById('css-status');
            let html = '';
            
            cssIssues.forEach((issue, index) => {
                const statusClass = index === 0 ? 'warning' : 'success';
                const icon = index === 0 ? '‚ö†Ô∏è' : '‚úÖ';
                
                html += `
                    <div class="status ${statusClass}">
                        <span class="status-icon">${icon}</span>
                        <div>
                            <strong>${issue.issue}</strong>
                            <p><strong>Actual:</strong> <code>${issue.current}</code></p>
                            <p><strong>Recomendado:</strong> <code>${issue.recommended}</code></p>
                            <p><em>${issue.reason}</em></p>
                        </div>
                    </div>
                `;
            });
            
            container.innerHTML = html;
        }
        
        function checkVideos() {
            const videos = [
                'VIDEOS/Video1_index.mp4',
                'VIDEOS/Video2_index.mp4',
                'VIDEOS/Video3_Index.mp4'
            ];
            
            const container = document.getElementById('videos-status');
            let html = '';
            
            videos.forEach(video => {
                // Los videos existen seg√∫n el an√°lisis anterior
                html += `
                    <div class="status success">
                        <span class="status-icon">‚úÖ</span>
                        <div>
                            <strong>Video encontrado</strong>
                            <p><span class="file-path">${video}</span></p>
                        </div>
                    </div>
                `;
            });
            
            container.innerHTML = html;
        }
        
        function provideSolutions() {
            const solutions = [
                {
                    title: '1. Crear archivo js/app.js',
                    description: 'Crear un archivo JavaScript b√°sico para manejar la funcionalidad principal.',
                    code: `// js/app.js
console.log('App inicializada');

document.addEventListener('DOMContentLoaded', function() {
    console.log('DOM cargado completamente');
    
    // Inicializar funcionalidades b√°sicas
    initializeApp();
});

function initializeApp() {
    console.log('Inicializando aplicaci√≥n...');
    
    // Aqu√≠ ir√°n las funcionalidades principales
    // Por ejemplo: efectos, animaciones, etc.
}`
                },
                {
                    title: '2. Corregir rutas CSS',
                    description: 'Cambiar las rutas CSS para evitar problemas de servidor.',
                    code: `<!-- ANTES -->
<link rel="stylesheet" href="/css/style.css">
<link rel="stylesheet" href="/css/navbar.css">

<!-- DESPU√âS -->
<link rel="stylesheet" href="css/style.css">
<link rel="stylesheet" href="css/navbar.css">`
                },
                {
                    title: '3. Simplificar carga de navbar',
                    description: 'Crear una funci√≥n m√°s robusta para cargar la navbar.',
                    code: `function loadNavbar() {
    fetch('html/navbar.html')
        .then(response => {
            if (!response.ok) {
                throw new Error('Network response was not ok');
            }
            return response.text();
        })
        .then(data => {
            document.getElementById('navbar-container').innerHTML = data;
            
            // Cargar script de navbar
            return loadScript('js/navbar.js');
        })
        .then(() => {
            if (typeof initNavbar === 'function') {
                initNavbar();
            }
        })
        .catch(error => {
            console.error('Error cargando navbar:', error);
            // Mostrar mensaje de error al usuario
        });
}`
                }
            ];
            
            const container = document.getElementById('solutions');
            let html = '';
            
            solutions.forEach(solution => {
                html += `
                    <div class="solution">
                        <h4>${solution.title}</h4>
                        <p>${solution.description}</p>
                        <pre><code>${solution.code}</code></pre>
                    </div>
                `;
            });
            
            container.innerHTML = html;
        }
        
        function runAllTests() {
            log('üß™ Ejecutando todas las pruebas...');
            
            // Test 1: Verificar estructura DOM
            log('Test 1: Verificando estructura DOM...');
            const navbar = document.getElementById('navbar-container');
            log(navbar ? '‚úÖ Contenedor navbar encontrado' : '‚ùå Contenedor navbar NO encontrado');
            
            // Test 2: Verificar scripts
            log('Test 2: Verificando scripts...');
            const scripts = document.querySelectorAll('script[src]');
            log(`üìÑ ${scripts.length} scripts externos encontrados`);
            scripts.forEach(script => {
                log(`  - ${script.src}`);
            });
            
            // Test 3: Verificar CSS
            log('Test 3: Verificando CSS...');
            const stylesheets = document.querySelectorAll('link[rel="stylesheet"]');
            log(`üé® ${stylesheets.length} hojas de estilo encontradas`);
            stylesheets.forEach(link => {
                log(`  - ${link.href}`);
            });
            
            // Test 4: Verificar videos
            log('Test 4: Verificando elementos de video...');
            const videos = document.querySelectorAll('video');
            log(`üì∫ ${videos.length} elementos de video en DOM`);
            
            log('‚úÖ Todas las pruebas completadas');
        }
        
        function log(message) {
            const timestamp = new Date().toLocaleTimeString();
            testLogs.push(`[${timestamp}] ${message}`);
            updateLogs();
        }
        
        function updateLogs() {
            const logsContainer = document.getElementById('test-logs');
            logsContainer.textContent = testLogs.join('\n');
            logsContainer.scrollTop = logsContainer.scrollHeight;
        }
        
        function clearLogs() {
            testLogs = [];
            updateLogs();
        }
    </script>
</body>
</html>
